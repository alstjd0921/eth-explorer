<!DOCTYPE html>
<html lang="en">
  <head>
    <% include head %>
    <style>
      .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      }
      @media (min-width: 768px) {
      .bd-placeholder-img-lg {
      font-size: 3.5rem;
      }
      }
    </style>
    <link type="text/css" href="/stylesheets/dashboard.css" rel="stylesheet" />
  </head>
  <body>
    <nav
      class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"
      >
      <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="/"
        >eth-explorer</a
        >
      <button
        class="navbar-toggler position-absolute d-md-none collapsed"
        type="button"
        data-toggle="collapse"
        data-target="#sidebarMenu"
        aria-controls="sidebarMenu"
        aria-expanded="false"
        aria-label="Toggle navigation"
        >
      <span class="navbar-toggler-icon"></span>
      </button>
      <!-- <input
        class="form-control form-control-dark w-100"
        type="search"
        name="address"
        placeholder="Search by Address / Txn Hash / Block"
        aria-label="Search"
        />
        <button
        class="btn btn-outline-secondary my-2 my-sm-0"
        type="submit"
        style="color: white;"
        >
        Search
        </button> -->
      <form
        class="form-inline"
        action="/"
        method="POST"
        style="display: inline-block;"
        >
        <input
          class="form-control form-control-dark mr-sm-2"
          type="search"
          name="address"
          placeholder="Search by Address/ Txn Hash / Block"
          aria-label="Search"
          style="width: 20rem;"
          />
        <button
          class="btn btn-outline-secondary my-2 my-sm-0"
          type="submit"
          style="color: #ece4e2;"
          >
        Search
        </button>
      </form>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <nav
          id="sidebarMenu"
          class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
          >
          <div class="sidebar-sticky pt-3">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link active" href="/">
                <span data-feather="home"></span>
                Home <span class="sr-only">(current)</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                <span data-feather="file"></span>
                Txs
                </a>
              </li>
            </ul>
          </div>
        </nav>
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
          <div
            class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
            <h1 class="h2">Latest Blocks</h1>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Miner</th>
                  <th>txns</th>
                </tr>
              </thead>
              <tbody>
                <% for(let i = 0; i < blocks.length; i++){%>
                <tr class="block">
                  <td><a href="/block/<%= blocks[i].number %>"><%= blocks[i].number %></a></td>
                  <td class="hash-tag text-truncate"><a
                    href="/address/<%= blocks[i].miner %>"><%= blocks[i].miner %></a></td>
                  <td><%= blocks[i].transactions.length %></td>
                </tr>
                <% } %>
              </tbody>
            </table>
          </div>
          <div
            class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
            >
            <h1 class="h2">Latest Transactions</h1>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Miner</th>
                  <th>txns</th>
                </tr>
              </thead>
              <tbody>
                <% for(let i = 0; i < txs.length; i++){ %>
                <tr>
                  <td class="hash-tag text-truncate"><a href="/tx/<%= txs[i].hash%>"><%= txs[i].hash%></a></td>
                  <td class="hash-tag text-truncate"><a href="/address/<%= txs[i].from%>"><%= txs[i].from%></td>
                  <td class="hash-tag text-truncate"><a href="/address/<%= txs[i].to%>"><%= txs[i].to%></td>
                </tr>
                <% } %>
              </tbody>
            </table>
          </div>
        </main>
      </div>
    </div>
    <% include bootstrap %>
  </body>
</html>